
<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forex Recorder</title>
    <style>
        .tab {
            display: none;
            flex-direction: column;
            align-items: flex-start;
            margin-top: 20px;
        }
        .tab.active {
            display: flex;
        }
        .tabs {
            display: flex;
        }
        .tab-button, .record-button, .clear-button {
            margin: 5px;
            padding: 10px;
            cursor: pointer;
            background-color: #f1f1f1;
            border: 1px solid #ccc;
            transition: background-color 0.3s;
        }
        .tab-button.active {
            background-color: #4CAF50;
            color: white;
        }
        .record-button.active {
            background-color: #FF5722;
            color: white;
        }
        .dropdown {
            margin: 10px 0;
            padding: 10px;
            cursor: pointer;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
            transition: background-color 0.3s;
        }
        .button-row, .dropdown-row {
            display: flex;
            margin-top: 10px;
        }
        .note-container {
            margin-top: 10px;
            display: flex;
            flex-direction: column;
        }
        textarea {
            width: 200%;
            height: 100px;
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            resize: vertical;
        }
    </style>
</head>
<body>

<div class="tabs">
    <div class="tab-button active" onclick="openTab(event, 'tab1')">XAUUSD</div>
    <div class="tab-button" onclick="openTab(event, 'tab2')">GBPUSD</div>
    <div class="tab-button" onclick="openTab(event, 'tab3')">AUDUSD</div>
	<div class="tab-button" onclick="openTab(event, 'tab4')">BTC</div>
    <div class="tab-button" onclick="openTab(event, 'tab5')">Dow</div>
</div>

<div id="tab1" class="tab active">
    <h2>تب ۱</h2>
    <div class="button-row">
        <button class="record-button" onclick="startRecording('audio1', this)">REC</button>
        <button onclick="stopRecording('audio1', this)">STOP</button>
        <button onclick="playAudio('audio1')">PLAY</button>
    </div>
    <audio id="audio1" controls style="margin-top: 10px;"></audio>
    
    <div class="dropdown-row">
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۴ ساعته</option>
            <option value="نزولی">4h نزولی</option>
            <option value="صعودی">4H صعودی</option>
        </select>
        
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۱۵ دقیقه</option>
            <option value="نزولی">نزولی</option>
            <option value="صعودی">صعودی</option>
        </select>
    </div>

    <div class="note-container">
        <textarea id="note1" placeholder="یادداشت خود را اینجا بنویسید..."></textarea>
        <button class="clear-button" onclick="clearNotes('note1')">پاک کردن</button>
    </div>
</div>

<div id="tab2" class="tab">
    <h2>تب ۲</h2>
    <div class="button-row">
        <button class="record-button" onclick="startRecording('audio2', this)">REC</button>
        <button onclick="stopRecording('audio2', this)">STOP</button>
        <button onclick="playAudio('audio2')">PLAY</button>
    </div>
    <audio id="audio2" controls style="margin-top: 10px;"></audio>
    
    <div class="dropdown-row">
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۴ ساعته</option>
            <option value="نزولی">4h نزولی</option>
            <option value="صعودی">4H صعودی</option>
        </select>
        
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۱۵ دقیقه</option>
            <option value="نزولی">نزولی</option>
            <option value="صعودی">صعودی</option>
        </select>
    </div>

    <div class="note-container">
        <textarea id="note2" placeholder="یادداشت خود را اینجا بنویسید..."></textarea>
        <button class="clear-button" onclick="clearNotes('note2')">پاک کردن</button>
    </div>
</div>

<div id="tab3" class="tab">
    <h2>تب ۳</h2>
    <div class="button-row">
        <button class="record-button" onclick="startRecording('audio3', this)">REC</button>
        <button onclick="stopRecording('audio3', this)">STOP</button>
        <button onclick="playAudio('audio3')">PLAY</button>
    </div>
    <audio id="audio3" controls style="margin-top: 10px;"></audio>
    
    <div class="dropdown-row">
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۴ ساعته</option>
            <option value="نزولی">4h نزولی</option>
            <option value="صعودی">4H صعودی</option>
        </select>
        
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۱۵ دقیقه</option>
            <option value="نزولی">نزولی</option>
            <option value="صعودی">صعودی</option>
        </select>
    </div>
	    <div class="note-container">
        <textarea id="note2" placeholder="یادداشت خود را اینجا بنویسید..."></textarea>
        <button class="clear-button" onclick="clearNotes('note2')">پاک کردن</button>
    </div>
</div>
<div id="tab4" class="tab">
    <h2>BTC</h2>
    <div class="button-row">
        <button class="record-button" onclick="startRecording('audio2', this)">REC</button>
        <button onclick="stopRecording('audio2', this)">STOP</button>
        <button onclick="playAudio('audio2')">PLAY</button>
    </div>
    <audio id="audio2" controls style="margin-top: 10px;"></audio>
    
    <div class="dropdown-row">
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۴ ساعته</option>
            <option value="نزولی">4h نزولی</option>
            <option value="صعودی">4H صعودی</option>
        </select>
        
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۱۵ دقیقه</option>
            <option value="نزولی">نزولی</option>
            <option value="صعودی">صعودی</option>
        </select>
    </div>

    <div class="note-container">
        <textarea id="note2" placeholder="یادداشت خود را اینجا بنویسید..."></textarea>
        <button class="clear-button" onclick="clearNotes('note2')">پاک کردن</button>
    </div>
</div>
<div id="tab5" class="tab">
    <h2>BTCUSD</h2>
    <div class="button-row">
        <button class="record-button" onclick="startRecording('audio1', this)">REC</button>
        <button onclick="stopRecording('audio1', this)">STOP</button>
        <button onclick="playAudio('audio1')">PLAY</button>
    </div>
    <audio id="audio1" controls style="margin-top: 10px;"></audio>
    
    <div class="dropdown-row">
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۴ ساعته</option>
            <option value="نزولی">4h نزولی</option>
            <option value="صعودی">4H صعودی</option>
        </select>
        
        <select class="dropdown" onchange="changeDropdownStyle(this)">
            <option value="">ساختار ۱۵ دقیقه</option>
            <option value="نزولی">نزولی</option>
            <option value="صعودی">صعودی</option>
        </select>
    </div>

    <div class="note-container">
        <textarea id="note1" placeholder="یادداشت خود را اینجا بنویسید..."></textarea>
        <button class="clear-button" onclick="clearNotes('note1')">پاک کردن</button>
    </div>
</div>



<script>
    let mediaRecorder;
    let audioChunks = [];

    function openTab(event, tabId) {
        const tabs = document.querySelectorAll('.tab');
        const tabButtons = document.querySelectorAll('.tab-button');

        tabs.forEach(tab => tab.classList.remove('active'));
        tabButtons.forEach(button => button.classList.remove('active'));

        document.getElementById(tabId).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function startRecording(audioId, button) {
        navigator.mediaDevices.getUserMedia({ audio: true })
            .then(stream => {
                mediaRecorder = new MediaRecorder(stream);
                mediaRecorder.start();
                button.classList.add('active');

                mediaRecorder.ondataavailable = event => {
                    audioChunks.push(event.data);
                };

                mediaRecorder.onstop = () => {
                    const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                    const audioUrl = URL.createObjectURL(audioBlob);
                    document.getElementById(audioId).src = audioUrl;
                    audioChunks = [];
                    button.classList.remove('active');
                };
            });
    }

    function stopRecording(audioId, button) {
        if (mediaRecorder) {
            mediaRecorder.stop();
            button.classList.remove('active');
        }
    }

    function playAudio(audioId) {
        const audioElement = document.getElementById(audioId);
        audioElement.play();
    }

    function changeDropdownStyle(selectElement) {
        if (selectElement.value.includes("نزولی")) {
            selectElement.style.backgroundColor = "#FF0000";
            selectElement.style.color = "white";
        } else if (selectElement.value.includes("صعودی")) {
            selectElement.style.backgroundColor = "#008000";
            selectElement.style.color = "white";
        } else {
            selectElement.style.backgroundColor = "#f1f1f1";
            selectElement.style.color = "black";
        }
    }

    function clearNotes(noteId) {
        document.getElementById(noteId).value = '';
    }
</script>

</body>
</html>
